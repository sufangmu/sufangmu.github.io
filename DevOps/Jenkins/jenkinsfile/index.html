
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="苏方木的笔记">
      
      
        <meta name="author" content="苏方木">
      
      
        <link rel="canonical" href="https://github.com/sufangmu/DevOps/Jenkins/jenkinsfile/">
      
      
        <link rel="prev" href="../../Git/Git/">
      
      
        <link rel="next" href="../jenkins-pipeline-syntax/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>jenkinsfile - 苏方木的笔记</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#using-a-jenkinsfile" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="苏方木的笔记" class="md-header__button md-logo" aria-label="苏方木的笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            苏方木的笔记
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              jenkinsfile
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="indigo"  aria-label="切换到明亮模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换到明亮模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="切换到深色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换到深色模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  关于我

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../linux/command-line/" class="md-tabs__link">
          
  
  
    
  
  Linux

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../databases/MySQL/%E5%AE%89%E8%A3%85/" class="md-tabs__link">
          
  
  
    
  
  数据库

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../software/web/Nginx/" class="md-tabs__link">
          
  
  
    
  
  服务

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../programming/c/%E6%A6%82%E8%BF%B0/" class="md-tabs__link">
          
  
  
    
  
  编程

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../Git/Git/" class="md-tabs__link">
          
  
  
    
  
  DevOps

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../resource/docs/" class="md-tabs__link">
        
  
  
    
  
  文档

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../english/NCE/NCE2/" class="md-tabs__link">
          
  
  
    
  
  English

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="苏方木的笔记" class="md-nav__button md-logo" aria-label="苏方木的笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    苏方木的笔记
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    关于我
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/command-line/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    命令行
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/grep_sed_awk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    文本处理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/ShellScript/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ShellScript
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/vim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VIM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    服务
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/network/TCP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TCP/IP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/network/iptables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Iptables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/CA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数字签名
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    数据库
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            数据库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MySQL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            MySQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/MySQL/%E5%AE%89%E8%A3%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/MySQL/%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    用户管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/MySQL/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据类型和运算符
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/MySQL/SQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/MySQL/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    存储过程和函数
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/MySQL/%E7%B4%A2%E5%BC%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    索引
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/MySQL/%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    执行计划
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_8" >
        
          
          <label class="md-nav__link" for="__nav_3_1_8" id="__nav_3_1_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    优化
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_8">
            <span class="md-nav__icon md-icon"></span>
            优化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/MySQL/SQL%E4%BC%98%E5%8C%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQL优化
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/MySQL/%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8C%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    索引优化
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    PostgreSQL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            PostgreSQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_1" >
        
          
          <label class="md-nav__link" for="__nav_3_2_1" id="__nav_3_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    管理
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_1">
            <span class="md-nav__icon md-icon"></span>
            管理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/%E5%8D%95%E5%AE%9E%E4%BE%8B%E5%AE%89%E8%A3%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    单实例安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/%E4%B8%BB%E5%A4%87%E5%AE%9E%E4%BE%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    主备实例
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/%E8%BF%9E%E6%8E%A5%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    连接访问控制
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据库
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/%E7%94%A8%E6%88%B7%E3%80%81%E8%A7%92%E8%89%B2%E5%92%8C%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    用户、角色和模式
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/%E5%AF%B9%E8%B1%A1%E6%9D%83%E9%99%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    对象权限
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/basebackup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    basebackup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%E4%B9%8B%E9%80%BB%E8%BE%91%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    逻辑备份
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%E4%B9%8B%E7%89%A9%E7%90%86%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E4%B8%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    物理备份恢复一
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/%E5%A4%87%E4%BB%BD%E4%B8%8E%E6%81%A2%E5%A4%8D%E4%B9%8B%E7%89%A9%E7%90%86%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D%E4%BA%8C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    物理备份恢复二
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/PITR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PITR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E7%AE%A1%E7%90%86/%E5%B8%B8%E7%94%A8%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    常用系统管理命令
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    内部原理
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            内部原理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/%E6%9E%B6%E6%9E%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    架构
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/WAL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WAL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/FullPageWrite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FullPageWrite
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/pg_control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pg_control
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/Checkpoint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Checkpoint
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%81%A2%E5%A4%8D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据库恢复
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/%E6%95%B0%E6%8D%AE%E6%96%87%E4%BB%B6%E5%92%8C%E5%9D%97%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据文件和块存储结构
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/%E5%85%83%E7%BB%84%E7%BB%93%E6%9E%84%E5%92%8CDML%E6%93%8D%E4%BD%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    元组结构和DML操作
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/vacuum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    vacuum
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/autovacuum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    autovacuum
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/clog%E4%BD%9C%E7%94%A8%E5%92%8C%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    clog作用和管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/Toast/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Toast
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/%E5%86%BB%E7%BB%93tixd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    冻结tixd
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/PostgreSQL/%E5%8E%9F%E7%90%86/%E4%BA%8B%E5%8A%A1%E4%B8%8E%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    事务与隔离级别
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    性能测试
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            性能测试
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/benchmarksql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BenchmarkSQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../databases/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/sysbench/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sysbench
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    服务
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            服务
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/web/Nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nginx
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/web/Tomcat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tomcat
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    中间件
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            中间件
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/middleware/rabbitmq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RabbitMQ
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    编程
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            编程
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    C
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            C
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/c/%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    概述
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/c/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    基本概念
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/c/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    流程控制
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/c/%E6%95%B0%E7%BB%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数组
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/c/%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    函数
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/c/%E6%8C%87%E9%92%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    指针
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/c/%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    动态内存
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/c/%E7%BB%93%E6%9E%84%E4%BD%93/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    结构体
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/c/%E6%9E%9A%E4%B8%BE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    枚举
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_1" >
        
          
          <label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    基础
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_1">
            <span class="md-nav__icon md-icon"></span>
            基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/01-python%E7%AE%80%E4%BB%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    python简介
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/02-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    基本数据类型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/03-%E9%80%BB%E8%BE%91%E6%8E%A7%E5%88%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    逻辑控制
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/04-%E5%87%BD%E6%95%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    函数
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面向对象
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/06-%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    包和模块
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/07-%E8%BF%AD%E4%BB%A3%E5%92%8C%E6%8E%A8%E5%AF%BC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    迭代和推导
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/08-%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    文件处理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/09-%E5%BC%82%E5%B8%B8%E4%B8%8E%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    异常处理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/01-%E5%86%85%E7%BD%AE%E6%A8%A1%E5%9D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    内置模块
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/02-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    并发编程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/03-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    网络编程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/04-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据库编程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8C%E7%94%9F%E6%88%90%E5%99%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    迭代器和生成器
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E5%9F%BA%E7%A1%80/%E5%8D%8F%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    协程
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Django
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_2">
            <span class="md-nav__icon md-icon"></span>
            Django
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/request/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    请求
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/response/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    响应三板斧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/urls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    路由层
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/view/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    视图层
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    模板层
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    模型层
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/middleware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    中间件
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/forms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    表单
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    auth模块
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/cookie%26session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cookie和session
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Django/admin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    admin
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_3" >
        
          
          <label class="md-nav__link" for="__nav_5_2_3" id="__nav_5_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DRF
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_3">
            <span class="md-nav__icon md-icon"></span>
            DRF
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/DRF/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/DRF/%E5%BA%8F%E5%88%97%E5%8C%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    序列化
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/DRF/%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    请求和响应
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/DRF/%E8%A7%86%E5%9B%BE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    视图
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/DRF/%E8%B7%AF%E7%94%B1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    路由
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/DRF/%E8%AE%A4%E8%AF%81%E3%80%81%E6%9D%83%E9%99%90%E5%92%8C%E9%A2%91%E7%8E%87/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    认证、权限和频率
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/DRF/%E8%BF%87%E6%BB%A4%E3%80%81%E6%8E%92%E5%BA%8F%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    过滤、排序、异常处理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/DRF/%E8%87%AA%E5%AE%9A%E4%B9%89response/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    自定义response
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4" id="__nav_5_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Flask
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4">
            <span class="md-nav__icon md-icon"></span>
            Flask
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    简介与安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/configure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/request%26response/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    请求和响应
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/route/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    路由
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    模板
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/view/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    视图
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/cookie%26session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cookie和session
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/blueprint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    蓝图
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    上下文
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/flashing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    闪现
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/middleware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    中间件
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_4_12" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4_12" id="__nav_5_2_4_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    扩展
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_4_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4_12">
            <span class="md-nav__icon md-icon"></span>
            扩展
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/extention/flask-session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    flask-session
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_4_13" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4_13" id="__nav_5_2_4_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    源码
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_4_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4_13">
            <span class="md-nav__icon md-icon"></span>
            源码
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/sourcecode/Local/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/sourcecode/session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Session
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Flask/sourcecode/context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/Jinja2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jinja2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_7" >
        
          
          <label class="md-nav__link" for="__nav_5_2_7" id="__nav_5_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    测试
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_7">
            <span class="md-nav__icon md-icon"></span>
            测试
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/python/%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    单元测试
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Java
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Java
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_1" >
        
          
          <label class="md-nav__link" for="__nav_5_3_1" id="__nav_5_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    基础
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_1">
            <span class="md-nav__icon md-icon"></span>
            基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E5%9F%BA%E7%A1%80/%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    概述
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E5%9F%BA%E7%A1%80/%E8%AF%AD%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    语法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E5%9F%BA%E7%A1%80/%E6%95%B0%E7%BB%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数组
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E5%9F%BA%E7%A1%80/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%88%E4%B8%80%EF%BC%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面向对象（一）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E5%9F%BA%E7%A1%80/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%88%E4%BA%8C%EF%BC%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面向对象（二）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E5%9F%BA%E7%A1%80/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%88%E4%B8%89%EF%BC%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面向对象（三）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E5%9F%BA%E7%A1%80/equals%28%29%E5%92%8C%3D%3D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    equals()和==
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E5%9F%BA%E7%A1%80/%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    异常处理
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_2" >
        
          
          <label class="md-nav__link" for="__nav_5_3_2" id="__nav_5_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    高级
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_2">
            <span class="md-nav__icon md-icon"></span>
            高级
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E9%AB%98%E7%BA%A7/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    多线程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E9%AB%98%E7%BA%A7/%E5%B8%B8%E7%94%A8%E7%B1%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    常用类
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E9%AB%98%E7%BA%A7/%E6%9E%9A%E4%B8%BE%E7%B1%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    枚举类
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E9%AB%98%E7%BA%A7/%E6%B3%9B%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    泛型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E9%AB%98%E7%BA%A7/%E9%9B%86%E5%90%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    集合
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E9%AB%98%E7%BA%A7/%E5%8F%8D%E5%B0%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    反射
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E9%AB%98%E7%BA%A7/%E6%B3%A8%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    注解
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E9%AB%98%E7%BA%A7/IO%E6%B5%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IO流
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/%E9%AB%98%E7%BA%A7/%E6%96%B0%E7%89%B9%E6%80%A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    新特性
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/java/JDBC/JDBC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JDBC
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/html/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTML
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/CSS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/JavaScript/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JavaScript
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    数据结构与算法
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            数据结构与算法
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../programming/DataStructuresAndAlgorithms/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据结构与算法
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    DevOps
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            DevOps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/Git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" checked>
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Jenkins
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Jenkins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    jenkinsfile
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    jenkinsfile
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-a-jenkinsfile" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Jenkinsfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a Jenkinsfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build" class="md-nav__link">
    <span class="md-ellipsis">
      Build
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    <span class="md-ellipsis">
      Test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-your-jenkinsfile" class="md-nav__link">
    <span class="md-ellipsis">
      Working with your Jenkinsfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with your Jenkinsfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Using environment variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using environment variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Setting environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-environment-variables-dynamically" class="md-nav__link">
    <span class="md-ellipsis">
      Setting environment variables dynamically
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      Handling credentials
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Handling credentials">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-secret-text-usernames-and-passwords-and-secret-files" class="md-nav__link">
    <span class="md-ellipsis">
      For secret text, usernames and passwords, and secret files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="For secret text, usernames and passwords, and secret files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secret-text" class="md-nav__link">
    <span class="md-ellipsis">
      Secret text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usernames-and-passwords" class="md-nav__link">
    <span class="md-ellipsis">
      Usernames and passwords
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-files" class="md-nav__link">
    <span class="md-ellipsis">
      Secret files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-other-credential-types" class="md-nav__link">
    <span class="md-ellipsis">
      For other credential types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="For other credential types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#combining-credentials-in-one-step" class="md-nav__link">
    <span class="md-ellipsis">
      Combining credentials in one step
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-interpolation" class="md-nav__link">
    <span class="md-ellipsis">
      String interpolation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="String interpolation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interpolation-of-sensitive-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Interpolation of sensitive environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#injection-via-interpolation" class="md-nav__link">
    <span class="md-ellipsis">
      Injection via interpolation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Handling parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-failure" class="md-nav__link">
    <span class="md-ellipsis">
      Handling failure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-multiple-agents" class="md-nav__link">
    <span class="md-ellipsis">
      Using multiple agents
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-step-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Optional step arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-scripted-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Scripted Pipeline
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Scripted Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parallel-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Parallel execution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jenkins-pipeline-syntax/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pipeline-syntax
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ansible
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Ansible
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ansible/ansible/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ansible基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ansible/AnsibleAPI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AnsibleAPI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    架构
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/underlyingtechnology/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    底层技术
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    镜像
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    容器
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    网络
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Volume/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据卷
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Dockerfile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dockerfile
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/system%E5%AD%90%E5%91%BD%E4%BB%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    system子命令
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/%E5%AE%B9%E5%99%A8%E4%B8%8E%E9%95%9C%E5%83%8F%E7%9A%84%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA%E5%8C%BA%E5%88%AB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    容器与镜像的导入导出区别
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    网络原理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/StorageDriver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    存储驱动
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    容器安全
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resource/docs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    文档
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    English
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            English
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_1" >
        
          
          <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    新概念
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            新概念
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/NCE/NCE2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NCE2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/NCE/NCE3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NCE3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/NCE/NCE4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NCE4
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    语法
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            语法
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/grammar/%E7%BB%BC%E8%BF%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    综述
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/grammar/%E8%AF%AD%E6%80%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    语态
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/grammar/%E8%AF%8D%E6%80%A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    词性
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/grammar/%E5%8A%A8%E8%AF%8D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    动词
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/grammar/%E4%BB%8E%E5%8F%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    从句
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../english/grammar/%E5%80%92%E8%A3%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    倒装
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-a-jenkinsfile" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Jenkinsfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a Jenkinsfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build" class="md-nav__link">
    <span class="md-ellipsis">
      Build
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    <span class="md-ellipsis">
      Test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-your-jenkinsfile" class="md-nav__link">
    <span class="md-ellipsis">
      Working with your Jenkinsfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with your Jenkinsfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Using environment variables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using environment variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Setting environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-environment-variables-dynamically" class="md-nav__link">
    <span class="md-ellipsis">
      Setting environment variables dynamically
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      Handling credentials
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Handling credentials">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-secret-text-usernames-and-passwords-and-secret-files" class="md-nav__link">
    <span class="md-ellipsis">
      For secret text, usernames and passwords, and secret files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="For secret text, usernames and passwords, and secret files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secret-text" class="md-nav__link">
    <span class="md-ellipsis">
      Secret text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usernames-and-passwords" class="md-nav__link">
    <span class="md-ellipsis">
      Usernames and passwords
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secret-files" class="md-nav__link">
    <span class="md-ellipsis">
      Secret files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-other-credential-types" class="md-nav__link">
    <span class="md-ellipsis">
      For other credential types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="For other credential types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#combining-credentials-in-one-step" class="md-nav__link">
    <span class="md-ellipsis">
      Combining credentials in one step
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-interpolation" class="md-nav__link">
    <span class="md-ellipsis">
      String interpolation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="String interpolation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interpolation-of-sensitive-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Interpolation of sensitive environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#injection-via-interpolation" class="md-nav__link">
    <span class="md-ellipsis">
      Injection via interpolation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Handling parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-failure" class="md-nav__link">
    <span class="md-ellipsis">
      Handling failure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-multiple-agents" class="md-nav__link">
    <span class="md-ellipsis">
      Using multiple agents
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-step-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Optional step arguments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-scripted-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Scripted Pipeline
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Scripted Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parallel-execution" class="md-nav__link">
    <span class="md-ellipsis">
      Parallel execution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="using-a-jenkinsfile">Using a Jenkinsfile<a class="headerlink" href="#using-a-jenkinsfile" title="Permanent link">&para;</a></h1>
<p>This section builds on the information covered in <a href="https://www.jenkins.io/doc/book/pipeline/getting-started">Getting started with Pipeline</a> and introduces more useful steps, common patterns, and demonstrates some non-trivial <code>Jenkinsfile</code> examples.</p>
<p>Creating a <code>Jenkinsfile</code>, which is checked into source control [<a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#_footnotedef_1">1</a>], provides a number of immediate benefits:</p>
<ul>
<li>Code review/iteration on the Pipeline</li>
<li>Audit trail for the Pipeline</li>
<li>Single source of truth [<a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#_footnotedef_2">2</a>] for the Pipeline, which can be viewed and edited by multiple members of the project.</li>
</ul>
<p>Pipeline supports <a href="https://www.jenkins.io/doc/book/pipeline/syntax">two syntaxes</a>, Declarative (introduced in Pipeline 2.5) and Scripted Pipeline. Both of which support building continuous delivery pipelines. Both may be used to define a Pipeline in either the web UI or with a <code>Jenkinsfile</code>, though it’s generally considered a best practice to create a <code>Jenkinsfile</code> and check the file into the source control repository.</p>
<h2 id="creating-a-jenkinsfile">Creating a Jenkinsfile<a class="headerlink" href="#creating-a-jenkinsfile" title="Permanent link">&para;</a></h2>
<p>As discussed in the <a href="https://www.jenkins.io/doc/book/pipeline/getting-started#defining-a-pipeline-in-scm">Defining a Pipeline in SCM</a>, a <code>Jenkinsfile</code> is a text file that contains the definition of a Jenkins Pipeline and is checked into source control. Consider the following Pipeline which implements a basic three-stage continuous delivery pipeline.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>

<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Build&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">echo</span><span class="w"> </span><span class="s1">&#39;Building..&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Test&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">echo</span><span class="w"> </span><span class="s1">&#39;Testing..&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Deploy&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">echo</span><span class="w"> </span><span class="s1">&#39;Deploying....&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#">Toggle Scripted Pipeline</a> <em>(Advanced)</em></p>
<p>Not all Pipelines will have these same three stages, but it is a good starting point to define them for most projects. The sections below will demonstrate the creation and execution of a simple Pipeline in a test installation of Jenkins.</p>
<blockquote>
<p>It is assumed that there is already a source control repository set up for the project and a Pipeline has been defined in Jenkins following <a href="https://www.jenkins.io/doc/book/pipeline/getting-started/#defining-a-pipeline-in-scm">these instructions</a>.</p>
</blockquote>
<p>Using a text editor, ideally one which supports <a href="http://groovy-lang.org/">Groovy</a> syntax highlighting, create a new <code>Jenkinsfile</code> in the root directory of the project.</p>
<p>The Declarative Pipeline example above contains the minimum necessary structure to implement a continuous delivery pipeline. The <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#agent">agent directive</a>, which is required, instructs Jenkins to allocate an executor and workspace for the Pipeline. Without an <code>agent</code> directive, not only is the Declarative Pipeline not valid, it would not be capable of doing any work! By default the <code>agent</code> directive ensures that the source repository is checked out and made available for steps in the subsequent stages`</p>
<p>The <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#stages">stages directive</a>, and <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#steps">steps directives</a> are also required for a valid Declarative Pipeline as they instruct Jenkins what to execute and in which stage it should be executed.</p>
<p>For more advanced usage with Scripted Pipeline, the example above <code>node</code> is a crucial first step as it allocates an executor and workspace for the Pipeline. In essence, without <code>node</code>, a Pipeline cannot do any work! From within <code>node</code>, the first order of business will be to checkout the source code for this project. Since the <code>Jenkinsfile</code> is being pulled directly from source control, Pipeline provides a quick and easy way to access the right revision of the source code</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">node</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">checkout</span><span class="w"> </span><span class="n">scm</span><span class="w"> </span><span class="c1">// ①</span>
<span class="w">    </span><span class="cm">/* .. snip .. */</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>① The <code>checkout</code> step will checkout code from source control; <code>scm</code> is a special variable which instructs the <code>checkout</code> step to clone the specific revision which triggered this Pipeline run.</p>
</blockquote>
<h3 id="build">Build<a class="headerlink" href="#build" title="Permanent link">&para;</a></h3>
<p>For many projects the beginning of "work" in the Pipeline would be the "build" stage. Typically this stage of the Pipeline will be where source code is assembled, compiled, or packaged. The <code>Jenkinsfile</code> is <strong>not</strong> a replacement for an existing build tool such as GNU/Make, Maven, Gradle, etc, but rather can be viewed as a glue layer to bind the multiple phases of a project’s development lifecycle (build, test, deploy, etc) together.</p>
<p>Jenkins has a number of plugins for invoking practically any build tool in general use, but this example will simply invoke <code>make</code> from a shell step (<code>sh</code>). The <code>sh</code> step assumes the system is Unix/Linux-based, for Windows-based systems the <code>bat</code> could be used instead.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>

<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Build&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;make&#39;</span><span class="w"> </span><span class="c1">// ①</span>
<span class="w">                </span><span class="n">archiveArtifacts</span><span class="w"> </span><span class="nl">artifacts:</span><span class="w"> </span><span class="s1">&#39;**/target/*.jar&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">fingerprint:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="c1">// ②</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#">Toggle Scripted Pipeline</a> <em>(Advanced)</em>  </p>
<blockquote>
<p>① The <code>sh</code> step invokes the <code>make</code> command and will only continue if a zero exit code is returned by the command. Any non-zero exit code will fail the Pipeline. </p>
<p>② <code>archiveArtifacts</code> captures the files built matching the include pattern (<code>**/target/*.jar</code>) and saves them to the Jenkins controller for later retrieval.</p>
<p>&#x26A0; Archiving artifacts is not a substitute for using external artifact repositories such as Artifactory or Nexus and should be considered only for basic reporting and file archival.    </p>
</blockquote>
<h3 id="test">Test<a class="headerlink" href="#test" title="Permanent link">&para;</a></h3>
<p>Running automated tests is a crucial component of any successful continuous delivery process. As such, Jenkins has a number of test recording, reporting, and visualization facilities provided by a <a href="https://plugins.jenkins.io/?labels=report">number of plugins</a>. At a fundamental level, when there are test failures, it is useful to have Jenkins record the failures for reporting and visualization in the web UI. The example below uses the <code>junit</code> step, provided by the <a href="https://plugins.jenkins.io/junit">JUnit plugin</a>.</p>
<p>In the example below, if tests fail, the Pipeline is marked "unstable", as denoted by a yellow ball in the web UI. Based on the recorded test reports, Jenkins can also provide historical trend analysis and visualization.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>

<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Test&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="cm">/* `make check` returns non-zero on test failures,</span>
<span class="cm">                * using `true` to allow the Pipeline to continue nonetheless</span>
<span class="cm">                */</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;make check || true&#39;</span><span class="w"> </span><span class="c1">// ①</span>
<span class="w">                </span><span class="n">junit</span><span class="w"> </span><span class="s1">&#39;**/target/*.xml&#39;</span><span class="w"> </span><span class="c1">// ②</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#">Toggle Scripted Pipeline</a> <em>(Advanced)</em></p>
<blockquote>
<p>① Using an inline shell conditional (<code>sh 'make check || true'</code>) ensures that the <code>sh</code> step always sees a zero exit code, giving the <code>junit</code> step the opportunity to capture and process the test reports. Alternative approaches to this are covered in more detail in the <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#handling-failure">Handling failure</a> section below.</p>
<p>② <code>junit</code> captures and associates the JUnit XML files matching the inclusion pattern (<code>**/target/*.xml</code>). </p>
</blockquote>
<h3 id="deploy">Deploy<a class="headerlink" href="#deploy" title="Permanent link">&para;</a></h3>
<p>Deployment can imply a variety of steps, depending on the project or organization requirements, and may be anything from publishing built artifacts to an Artifactory server, to pushing code to a production system.</p>
<p>At this stage of the example Pipeline, both the "Build" and "Test" stages have successfully executed. In essence, the "Deploy" stage will only execute assuming previous stages completed successfully, otherwise the Pipeline would have exited early.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>

<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Deploy&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">when</span><span class="w"> </span><span class="o">{</span>
<span class="w">              </span><span class="n">expression</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">currentBuild</span><span class="o">.</span><span class="na">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">currentBuild</span><span class="o">.</span><span class="na">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;SUCCESS&#39;</span><span class="w"> </span><span class="c1">// ①</span>
<span class="w">              </span><span class="o">}</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;make publish&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#">Toggle Scripted Pipeline</a> <em>(Advanced)</em></p>
<blockquote>
<p>①  Accessing the <code>currentBuild.result</code> variable allows the Pipeline to determine if there were any test failures. In which case, the value would be <code>UNSTABLE</code>. </p>
</blockquote>
<p>Assuming everything has executed successfully in the example Jenkins Pipeline, each successful Pipeline run will have associated build artifacts archived, test results reported upon and the full console output all in Jenkins.</p>
<blockquote>
<p>A Scripted Pipeline can include conditional tests (shown above), loops, try/catch/finally blocks and even functions. The next section will cover this advanced Scripted Pipeline syntax in more detail.</p>
</blockquote>
<h2 id="working-with-your-jenkinsfile">Working with your Jenkinsfile<a class="headerlink" href="#working-with-your-jenkinsfile" title="Permanent link">&para;</a></h2>
<p>The following sections provide details about handling:</p>
<ul>
<li>specific Pipeline syntax in your <code>Jenkinsfile</code> and</li>
<li>features and functionality of Pipeline syntax which are essential in building your application or Pipeline project.</li>
</ul>
<h3 id="using-environment-variables">Using environment variables<a class="headerlink" href="#using-environment-variables" title="Permanent link">&para;</a></h3>
<p>Jenkins Pipeline exposes environment variables via the global variable <code>env</code>, which is available from anywhere within a <code>Jenkinsfile</code>. The full list of environment variables accessible from within Jenkins Pipeline is documented at ${YOUR_JENKINS_URL}/pipeline-syntax/globals#env and includes:</p>
<ul>
<li>BUILD_ID</li>
</ul>
<p>The current build ID, identical to BUILD_NUMBER for builds created in Jenkins versions 1.597+</p>
<ul>
<li>BUILD_NUMBER</li>
</ul>
<p>The current build number, such as "153"</p>
<ul>
<li>BUILD_TAG</li>
</ul>
<p>String of jenkins-<span class="arithmatex">\({JOB_NAME}-\)</span>{BUILD_NUMBER}. Convenient to put into a resource file, a jar file, etc for easier identification</p>
<ul>
<li>BUILD_URL</li>
</ul>
<p>The URL where the results of this build can be found (for example http://buildserver/jenkins/job/MyJobName/17/ )</p>
<ul>
<li>EXECUTOR_NUMBER</li>
</ul>
<p>The unique number that identifies the current executor (among executors of the same machine) performing this build. This is the number you see in the "build executor status", except that the number starts from 0, not 1</p>
<ul>
<li>JAVA_HOME</li>
</ul>
<p>If your job is configured to use a specific JDK, this variable is set to the JAVA_HOME of the specified JDK. When this variable is set, PATH is also updated to include the bin subdirectory of JAVA_HOME</p>
<ul>
<li>JENKINS_URL</li>
</ul>
<p>Full URL of Jenkins, such as https://example.com:port/jenkins/ (NOTE: only available if Jenkins URL set in "System Configuration")</p>
<ul>
<li>JOB_NAME</li>
</ul>
<p>Name of the project of this build, such as "foo" or "foo/bar".</p>
<ul>
<li>NODE_NAME</li>
</ul>
<p>The name of the node the current build is running on. Set to 'master' for the Jenkins controller.</p>
<ul>
<li>WORKSPACE</li>
</ul>
<p>The absolute path of the workspace</p>
<p>Referencing or using these environment variables can be accomplished like accessing any key in a Groovy <a href="http://groovy-lang.org/syntax.html#_maps">Map</a>, for example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">echo</span><span class="w"> </span><span class="s2">&quot;Running ${env.BUILD_ID} on ${env.JENKINS_URL}&quot;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#">Toggle Scripted Pipeline</a> <em>(Advanced)</em></p>
<h4 id="setting-environment-variables">Setting environment variables<a class="headerlink" href="#setting-environment-variables" title="Permanent link">&para;</a></h4>
<p>Setting an environment variable within a Jenkins Pipeline is accomplished differently depending on whether Declarative or Scripted Pipeline is used.</p>
<p>Declarative Pipeline supports an <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#environment">environment</a> directive, whereas users of Scripted Pipeline must use the <code>withEnv</code> step.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">    </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="c1">// ①</span>
<span class="w">        </span><span class="n">CC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;clang&#39;</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="c1">// ②</span>
<span class="w">                </span><span class="n">DEBUG_FLAGS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;-g&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;printenv&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#">Toggle Scripted Pipeline</a> <em>(Advanced)</em></p>
<blockquote>
<p>①  An <code>environment</code> directive used in the top-level <code>pipeline</code> block will apply to all steps within the Pipeline. </p>
<p>②  An <code>environment</code> directive defined within a <code>stage</code> will only apply the given environment variables to steps within the <code>stage</code>. </p>
</blockquote>
<h4 id="setting-environment-variables-dynamically">Setting environment variables dynamically<a class="headerlink" href="#setting-environment-variables-dynamically" title="Permanent link">&para;</a></h4>
<p>Environment variables can be set at run time and can be used by shell scripts (<code>sh</code>), Windows batch scripts (<code>bat</code>) and PowerShell scripts (<code>powershell</code>). Each script can either <code>returnStatus</code> or <code>returnStdout</code>. <a href="https://www.jenkins.io/doc/pipeline/steps/workflow-durable-task-step">More information on scripts</a>.</p>
<p>Below is an example in a declarative pipeline using <code>sh</code> (shell) with both <code>returnStatus</code> and <code>returnStdout</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span><span class="w">  </span><span class="c1">// ①</span>
<span class="w">    </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="c1">// Using returnStdout</span>
<span class="w">        </span><span class="n">CC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;&quot;${sh(</span>
<span class="s2">                returnStdout: true,</span>
<span class="s2">                script: &#39;echo &quot;clang&quot;&#39;</span>
<span class="s2">            )}&quot;&quot;&quot;</span><span class="w"> </span><span class="c1">// ②</span>
<span class="w">        </span><span class="c1">// Using returnStatus</span>
<span class="w">        </span><span class="n">EXIT_STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&quot;&quot;${sh(</span>
<span class="s2">                returnStatus: true,</span>
<span class="s2">                script: &#39;exit 1&#39;</span>
<span class="s2">            )}&quot;&quot;&quot;</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">DEBUG_FLAGS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;-g&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;printenv&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>①  An <code>agent</code> must be set at the top level of the pipeline. This will fail if agent is set as <code>agent none</code>.</p>
<p>② When using <code>returnStdout</code> a trailing whitespace will be appended to the returned string. Use <code>.trim()</code> to remove this. </p>
</blockquote>
<h3 id="handling-credentials">Handling credentials<a class="headerlink" href="#handling-credentials" title="Permanent link">&para;</a></h3>
<p>Credentials <a href="https://www.jenkins.io/doc/book/using/using-credentials#configuring-credentials">configured in Jenkins</a> can be handled in Pipelines for immediate use. Read more about using credentials in Jenkins on the <a href="https://www.jenkins.io/doc/book/using/using-credentials">Using credentials</a> page.</p>
<h4 id="for-secret-text-usernames-and-passwords-and-secret-files">For secret text, usernames and passwords, and secret files<a class="headerlink" href="#for-secret-text-usernames-and-passwords-and-secret-files" title="Permanent link">&para;</a></h4>
<p>Jenkins' declarative Pipeline syntax has the <code>credentials()</code> helper method (used within the <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#environment"><code>environment</code></a> directive) which supports <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#secret-text">secret text</a>, <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#usernames-and-passwords">username and password</a>, as well as <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#secret-files">secret file</a> credentials. If you want to handle other types of credentials, refer to the <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#for-other-credential-types">For other credential types</a> section (below).</p>
<h5 id="secret-text">Secret text<a class="headerlink" href="#secret-text" title="Permanent link">&para;</a></h5>
<p>The following Pipeline code shows an example of how to create a Pipeline using environment variables for secret text credentials.</p>
<p>In this example, two secret text credentials are assigned to separate environment variables to access Amazon Web Services (AWS). These credentials would have been configured in Jenkins with their respective credential IDs
<code>jenkins-aws-secret-key-id</code> and <code>jenkins-aws-secret-access-key</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="c1">// Define agent details here</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">AWS_ACCESS_KEY_ID</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;jenkins-aws-secret-key-id&#39;</span><span class="o">)</span>
<span class="w">        </span><span class="n">AWS_SECRET_ACCESS_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;jenkins-aws-secret-access-key&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example stage 1&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="c1">// ①</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example stage 2&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="c1">// ②</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>①  You can reference the two credential environment variables (defined in this Pipeline’s <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#environment"><code>environment</code></a> directive), within this stage’s steps using the syntax <code>$AWS_ACCESS_KEY_ID</code> and <code>$AWS_SECRET_ACCESS_KEY</code>. For example, here you can authenticate to AWS using the secret text credentials assigned to these credential variables. To maintain the security and anonymity of these credentials, if the job displays the value of these credential variables from within the Pipeline (e.g. <code>echo $AWS_SECRET_ACCESS_KEY</code>), Jenkins only returns the value “” to reduce the risk of secret information being disclosed to the console output and any logs. Any sensitive information in credential IDs themselves (such as usernames) are also returned as “” in the Pipeline run’s output. This only reduces the risk of <strong>accidental exposure</strong>. It does not prevent a malicious user from capturing the credential value by other means. A Pipeline that uses credentials can also disclose those credentials. Don’t allow untrusted Pipeline jobs to use trusted credentials. </p>
<p>②  In this Pipeline example, the credentials assigned to the two <code>AWS_…</code>environment variables are scoped globally for the entire Pipeline, so these credential variables could also be used in this stage’s steps. If, however, the <code>environment</code> directive in this Pipeline were moved to a specific stage (as is the case in the <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#usernames-and-passwords">Usernames and passwords</a> Pipeline example below), then these <code>AWS_…</code> environment variables would only be scoped to the steps in that stage. </p>
</blockquote>
<h5 id="usernames-and-passwords">Usernames and passwords<a class="headerlink" href="#usernames-and-passwords" title="Permanent link">&para;</a></h5>
<p>The following Pipeline code snippets show an example of how to create a Pipeline using environment variables for username and password credentials.</p>
<p>In this example, username and password credentials are assigned to environment variables to access a Bitbucket repository in a common account or team for your organization; these credentials would have been configured in Jenkins with the credential ID <code>jenkins-bitbucket-common-creds</code>.</p>
<p>When setting the credential environment variable in the <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#environment"><code>environment</code></a> directive:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">BITBUCKET_COMMON_CREDS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;jenkins-bitbucket-common-creds&#39;</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>this actually sets the following three environment variables:</p>
<ul>
<li><code>BITBUCKET_COMMON_CREDS</code> - contains a username and a password separated by a colon in the format <code>username:password</code>.</li>
<li><code>BITBUCKET_COMMON_CREDS_USR</code> - an additional variable containing the username component only.</li>
<li><code>BITBUCKET_COMMON_CREDS_PSW</code> - an additional variable containing the password component only.</li>
</ul>
<blockquote>
<p>&#x2139; By convention, variable names for environment variables are typically specified in capital case, with individual words separated by underscores. You can, however, specify any legitimate variable name using lower case characters. Bear in mind that the additional environment variables created by the <code>credentials()</code> method (above) will always be appended with <code>_USR</code> and <code>_PSW</code> (i.e. in the format of an underscore followed by three capital letters).</p>
</blockquote>
<p>The following code snippet shows the example Pipeline in its entirety:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="c1">// Define agent details here</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example stage 1&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">BITBUCKET_COMMON_CREDS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;jenkins-bitbucket-common-creds&#39;</span><span class="o">)</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="c1">// ①</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example stage 2&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="c1">// ②</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>①The following credential environment variables (defined in this Pipeline’s <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#environment"><code>environment</code></a> directive) are available within this stage’s steps and can be referenced using the syntax:<code>$BITBUCKET_COMMON_CREDS``$BITBUCKET_COMMON_CREDS_USR``$BITBUCKET_COMMON_CREDS_PSW</code>For example, here you can authenticate to Bitbucket with the username and password assigned to these credential variables. To maintain the security and anonymity of these credentials, if the job displays the value of these credential variables from within the Pipeline the same behavior described in the <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#secret-text">Secret text</a> example above applies to these username and password credential variable types too. This only reduces the risk of <strong>accidental exposure</strong>. It does not prevent a malicious user from capturing the credential value by other means. A Pipeline that uses credentials can also disclose those credentials. Don’t allow untrusted Pipeline jobs to use trusted credentials. 
②  In this Pipeline example, the credentials assigned to the three <code>COMMON_BITBUCKET_CREDS…</code> environment variables are scoped only to <code>Example stage 1</code>, so these credential variables are not available for use in this <code>Example stage 2</code> stage’s steps. If, however, the <code>environment</code> directive in this Pipeline were moved immediately within the <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#declarative-pipeline"><code>pipeline</code></a> block (as is the case in the <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#secret-text">Secret text</a> Pipeline example above), then these <code>COMMON_BITBUCKET_CREDS…</code> environment variables would be scoped globally and could be used in any stage’s steps. </p>
</blockquote>
<h5 id="secret-files">Secret files<a class="headerlink" href="#secret-files" title="Permanent link">&para;</a></h5>
<p>A secret file is a credential which is stored in a file and uploaded to Jenkins. Secret files are used for credentials that are:</p>
<ul>
<li>too unwieldy to enter directly into Jenkins, and/or</li>
<li>in binary format, such as a GPG file.</li>
</ul>
<p>In this example, we use a Kubernetes config file that has been configured as a secret file credential named <code>my-kubeconfig</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="c1">// Define agent details here</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="c1">// The MY_KUBECONFIG environment variable will be assigned</span>
<span class="w">        </span><span class="c1">// the value of a temporary file.  For example:</span>
<span class="w">        </span><span class="c1">//   /home/user/.jenkins/workspace/cred_test@tmp/secretFiles/546a5cf3-9b56-4165-a0fd-19e2afe6b31f/kubeconfig.txt</span>
<span class="w">        </span><span class="n">MY_KUBECONFIG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;my-kubeconfig&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example stage 1&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">sh</span><span class="o">(</span><span class="s2">&quot;kubectl --kubeconfig $MY_KUBECONFIG get pods&quot;</span><span class="o">)</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="for-other-credential-types">For other credential types<a class="headerlink" href="#for-other-credential-types" title="Permanent link">&para;</a></h4>
<p>If you need to set credentials in a Pipeline for anything other than secret text, usernames and passwords, or secret files (<a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#for-secret-text-usernames-and-passwords-and-secret-files">above</a>) - i.e SSH keys or certificates, then use Jenkins' <strong>Snippet Generator</strong> feature, which you can access through Jenkins' classic UI.</p>
<p>To access the <strong>Snippet Generator</strong> for your Pipeline project/item:</p>
<ol>
<li>From the Jenkins home page (i.e. the Dashboard of Jenkins' classic UI), click the name of your Pipeline project/item.</li>
<li>On the left, click <strong>Pipeline Syntax</strong> and ensure that the <strong>Snippet Generator</strong> link is in bold at the top-left. (If not, click its link.)</li>
<li>From the <strong>Sample Step</strong> field, choose <strong>withCredentials: Bind credentials to variables</strong>.</li>
<li>Under <strong>Bindings</strong>, click <strong>Add</strong> and choose from the dropdown:</li>
<li><strong>SSH User Private Key</strong> - to handle <a href="http://www.snailbook.com/protocols.html">SSH public/private key pair credentials</a>, from which you can specify:<ul>
<li><strong>Key File Variable</strong> - the name of the environment variable that will be bound to these credentials. Jenkins actually assigns this temporary variable to the secure location of the private key file required in the SSH public/private key pair authentication process.</li>
<li><strong>Passphrase Variable</strong> ( <em>Optional</em> ) - the name of the environment variable that will be bound to the <a href="https://tools.ietf.org/html/rfc4251#section-9.4.4">passphrase</a> associated with the SSH public/private key pair.</li>
<li><strong>Username Variable</strong> ( <em>Optional</em> ) - the name of the environment variable that will be bound to username associated with the SSH public/private key pair.</li>
<li><strong>Credentials</strong> - choose the SSH public/private key credentials stored in Jenkins. The value of this field is the credential ID, which Jenkins writes out to the generated snippet.</li>
</ul>
</li>
<li><strong>Certificate</strong> - to handle <a href="https://tools.ietf.org/html/rfc7292">PKCS#12 certificates</a>, from which you can specify:<ul>
<li><strong>Keystore Variable</strong> - the name of the environment variable that will be bound to these credentials. Jenkins actually assigns this temporary variable to the secure location of the certificate’s keystore required in the certificate authentication process.</li>
<li><strong>Password Variable</strong> ( <em>Optional</em> ) - the name of the environment variable that will be bound to the password associated with the certificate.</li>
<li><strong>Alias Variable</strong> ( <em>Optional</em> ) - the name of the environment variable that will be bound to the unique alias associated with the certificate.</li>
<li><strong>Credentials</strong> - choose the certificate credentials stored in Jenkins. The value of this field is the credential ID, which Jenkins writes out to the generated snippet.</li>
</ul>
</li>
<li><strong>Docker client certificate</strong> - to handle Docker Host Certificate Authentication.</li>
<li>Click <strong>Generate Pipeline Script</strong> and Jenkins generates a <code>withCredentials( … ) { … }</code> Pipeline step snippet for the credentials you specified, which you can then copy and paste into your Declarative or Scripted Pipeline code.
   <strong>Notes:</strong></li>
<li>The <strong>Credentials</strong> fields (above) show the names of credentials configured in Jenkins. However, these values are converted to credential IDs after clicking <strong>Generate Pipeline Script</strong>.</li>
<li>To combine more than one credential in a single <code>withCredentials( … ) { … }</code> Pipeline step, see <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#combining-credentials-in-one-step">Combining credentials in one step</a> (below) for details.</li>
</ol>
<p><strong>SSH User Private Key example</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">withCredentials</span><span class="o">(</span><span class="nl">bindings:</span><span class="w"> </span><span class="o">[</span><span class="n">sshUserPrivateKey</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s1">&#39;jenkins-ssh-key-for-abc&#39;</span><span class="o">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                                             </span><span class="nl">keyFileVariable:</span><span class="w"> </span><span class="s1">&#39;SSH_KEY_FOR_ABC&#39;</span><span class="o">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                                             </span><span class="nl">passphraseVariable:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                                             </span><span class="nl">usernameVariable:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">)])</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="c1">// some block</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>The optional <code>passphraseVariable</code> and <code>usernameVariable</code> definitions can be deleted in your final Pipeline code.</p>
<p><strong>Certificate example</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">withCredentials</span><span class="o">(</span><span class="nl">bindings:</span><span class="w"> </span><span class="o">[</span><span class="n">certificate</span><span class="o">(</span><span class="nl">aliasVariable:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                                       </span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s1">&#39;jenkins-certificate-for-xyz&#39;</span><span class="o">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                                       </span><span class="nl">keystoreVariable:</span><span class="w"> </span><span class="s1">&#39;CERTIFICATE_FOR_XYZ&#39;</span><span class="o">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                                       </span><span class="nl">passwordVariable:</span><span class="w"> </span><span class="s1">&#39;XYZ-CERTIFICATE-PASSWORD&#39;</span><span class="o">)])</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="c1">// some block</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>The optional <code>aliasVariable</code> and <code>passwordVariable</code> variable definitions can be deleted in your final Pipeline code.</p>
<p>The following code snippet shows an example Pipeline in its entirety, which implements the <strong>SSH User Private Key</strong> and <strong>Certificate</strong> snippets above:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="c1">// define agent details</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example stage 1&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">withCredentials</span><span class="o">(</span><span class="nl">bindings:</span><span class="w"> </span><span class="o">[</span><span class="n">sshUserPrivateKey</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s1">&#39;jenkins-ssh-key-for-abc&#39;</span><span class="o">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                                                             </span><span class="nl">keyFileVariable:</span><span class="w"> </span><span class="s1">&#39;SSH_KEY_FOR_ABC&#39;</span><span class="o">)])</span><span class="w"> </span><span class="o">{</span>
<span class="w">                  </span><span class="c1">// ①</span>
<span class="w">                </span><span class="o">}</span>
<span class="w">                </span><span class="n">withCredentials</span><span class="o">(</span><span class="nl">bindings:</span><span class="w"> </span><span class="o">[</span><span class="n">certificate</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s1">&#39;jenkins-certificate-for-xyz&#39;</span><span class="o">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                                                       </span><span class="nl">keystoreVariable:</span><span class="w"> </span><span class="s1">&#39;CERTIFICATE_FOR_XYZ&#39;</span><span class="o">,</span><span class="w"> </span><span class="err">\</span>
<span class="w">                                                       </span><span class="nl">passwordVariable:</span><span class="w"> </span><span class="s1">&#39;XYZ-CERTIFICATE-PASSWORD&#39;</span><span class="o">)])</span><span class="w"> </span><span class="o">{</span>
<span class="w">                  </span><span class="c1">// ②</span>
<span class="w">                </span><span class="o">}</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example stage 2&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="c1">// ③</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<blockquote>
<p>① Within this step, you can reference the credential environment variable with the syntax <code>$SSH_KEY_FOR_ABC</code>. For example, here you can authenticate to the ABC application with its configured SSH public/private key pair credentials, whose <strong>SSH User Private Key</strong> file is assigned to <code>$SSH_KEY_FOR_ABC</code>.</p>
<p>② Within this step, you can reference the credential environment variable with the syntax <code>$CERTIFICATE_FOR_XYZ</code> and <code>$XYZ-CERTIFICATE-PASSWORD</code>. For example, here you can authenticate to the XYZ application with its configured certificate credentials, whose <strong>Certificate</strong>'s keystore file and password are assigned to the variables <code>$CERTIFICATE_FOR_XYZ</code> and <code>$XYZ-CERTIFICATE-PASSWORD</code>, respectively. </p>
<p>③ In this Pipeline example, the credentials assigned to the <code>$SSH_KEY_FOR_ABC</code>, <code>$CERTIFICATE_FOR_XYZ</code> and <code>$XYZ-CERTIFICATE-PASSWORD</code> environment variables are scoped only within their respective <code>withCredentials( … ) { … }</code> steps, so these credential variables are not available for use in this <code>Example stage 2</code> stage’s steps. </p>
</blockquote>
<p>To maintain the security and anonymity of these credentials, if you attempt to retrieve the value of these credential variables from within these <code>withCredentials( … ) { … }</code> steps, the same behavior described in the <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#secret-text">Secret text</a> example (above) applies to these SSH public/private key pair credential and certificate variable types too.
This only reduces the risk of <strong>accidental exposure</strong>. It does not prevent a malicious user from capturing the credential value by other means. A Pipeline that uses credentials can also disclose those credentials. Don’t allow untrusted Pipeline jobs to use trusted credentials.</p>
<blockquote>
<ul>
<li>
<p>When using the <strong>Sample Step</strong> field’s <strong>withCredentials: Bind credentials to variables</strong> option in the <strong>Snippet Generator</strong>, only credentials which your current Pipeline project/item has access to can be selected from any <strong>Credentials</strong> field’s list. While you can manually write a <code>withCredentials( … ) { … }</code> step for your Pipeline (like the examples <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#withcredentials-script-examples">above</a>), using the <strong>Snippet Generator</strong> is recommended to avoid specifying credentials that are out of scope for this Pipeline project/item, which when run, will make the step fail.</p>
</li>
<li>
<p>You can also use the <strong>Snippet Generator</strong> to generate <code>withCredentials( … ) { … }</code> steps to handle secret text, usernames and passwords and secret files. However, if you only need to handle these types of credentials, it is recommended you use the relevant procedure described in the section <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#for-secret-text-usernames-and-passwords-and-secret-files">above</a> for improved Pipeline code readability.</p>
</li>
<li>
<p>The use of <strong>single-quotes</strong> instead of <strong>double-quotes</strong> to define the <code>script</code> (the implicit parameter to <code>sh</code>) in Groovy above. The single-quotes will cause the secret to be expanded by the shell as an environment variable. The double-quotes are potentially less secure as the secret is interpolated by Groovy, and so typical operating system process listings will accidentally disclose it :</p>
</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">node</span><span class="w"> </span><span class="o">{</span><span class="w">  </span>
<span class="w">    </span><span class="n">withCredentials</span><span class="o">([</span><span class="n">string</span><span class="o">(</span><span class="nl">credentialsId:</span><span class="w"> </span><span class="s1">&#39;mytoken&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">variable:</span><span class="w"> </span><span class="s1">&#39;TOKEN&#39;</span><span class="o">)])</span><span class="w"> </span><span class="o">{</span><span class="w">        </span><span class="n">sh</span><span class="w"> </span><span class="cm">/* WRONG! */</span><span class="w"> </span><span class="s2">&quot;&quot;&quot;      </span>
<span class="s2">           set +x      </span>
<span class="s2">           curl -H &#39;Token: $TOKEN&#39; https://some.api/    </span>
<span class="s2">       &quot;&quot;&quot;</span>
<span class="w">       </span><span class="n">sh</span><span class="w"> </span><span class="cm">/* CORRECT */</span><span class="w"> </span><span class="s1">&#39;&#39;&#39;      </span>
<span class="s1">       set +x      </span>
<span class="s1">       curl -H &#39;Token: $TOKEN&#39; https://some.api/</span>
<span class="s1">       &#39;&#39;&#39;</span><span class="w"> </span>
<span class="w">    </span><span class="o">}</span><span class="w"> </span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
</blockquote>
<h5 id="combining-credentials-in-one-step">Combining credentials in one step<a class="headerlink" href="#combining-credentials-in-one-step" title="Permanent link">&para;</a></h5>
<p>Using the <strong>Snippet Generator</strong>, you can make multiple credentials available within a single <code>withCredentials( … ) { … }</code> step by doing the following:</p>
<ol>
<li>From the Jenkins home page (i.e. the Dashboard of Jenkins' classic UI), click the name of your Pipeline project/item.</li>
<li>On the left, click <strong>Pipeline Syntax</strong> and ensure that the <strong>Snippet Generator</strong> link is in bold at the top-left. (If not, click its link.)</li>
<li>From the <strong>Sample Step</strong> field, choose <strong>withCredentials: Bind credentials to variables</strong>.</li>
<li>Click <strong>Add</strong> under <strong>Bindings</strong>.</li>
<li>Choose the credential type to add to the <code>withCredentials( … ) { … }</code> step from the dropdown list.</li>
<li>Specify the credential <strong>Bindings</strong> details. Read more above these in the procedure under <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#for-other-credential-types">For other credential types</a> (above).</li>
<li>Repeat from "Click <strong>Add</strong> …" (above) for each (set of) credential/s to add to the <code>withCredentials( … ) { … }</code> step.</li>
<li>Click <strong>Generate Pipeline Script</strong> to generate the final <code>withCredentials( … ) { … }</code> step snippet.</li>
</ol>
<h3 id="string-interpolation">String interpolation<a class="headerlink" href="#string-interpolation" title="Permanent link">&para;</a></h3>
<p>Jenkins Pipeline uses rules identical to <a href="http://groovy-lang.org/">Groovy</a> for string interpolation. Groovy’s String interpolation support can be confusing to many newcomers to the language. While Groovy supports declaring a string with either single quotes, or double quotes, for example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kt">def</span><span class="w"> </span><span class="n">singlyQuoted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Hello&#39;</span>
<span class="kt">def</span><span class="w"> </span><span class="n">doublyQuoted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;World&quot;</span>
</code></pre></div></td></tr></table></div>
<p>Only the latter string will support the dollar-sign (<code>$</code>) based string interpolation, for example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kt">def</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Jenkins&#39;</span>
<span class="n">echo</span><span class="w"> </span><span class="s1">&#39;Hello Mr. ${username}&#39;</span>
<span class="n">echo</span><span class="w"> </span><span class="s2">&quot;I said, Hello Mr. ${username}&quot;</span>
</code></pre></div></td></tr></table></div>
<p>Would result in:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">Hello</span><span class="w"> </span><span class="n">Mr</span><span class="o">.</span><span class="w"> </span><span class="n">$</span><span class="o">{</span><span class="n">username</span><span class="o">}</span>
<span class="n">I</span><span class="w"> </span><span class="n">said</span><span class="o">,</span><span class="w"> </span><span class="n">Hello</span><span class="w"> </span><span class="n">Mr</span><span class="o">.</span><span class="w"> </span><span class="n">Jenkins</span>
</code></pre></div></td></tr></table></div>
<p>Understanding how to use string interpolation is vital for using some of Pipeline’s more advanced features.</p>
<h4 id="interpolation-of-sensitive-environment-variables">Interpolation of sensitive environment variables<a class="headerlink" href="#interpolation-of-sensitive-environment-variables" title="Permanent link">&para;</a></h4>
<blockquote>
<p>&#x26A0; Groovy string interpolation should <strong>never</strong> be used with credentials</p>
</blockquote>
<p>Groovy string interpolation can leak sensitive environment variables (i.e. credentials, see: <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#handling-credentials">Handling credentials</a>). This is because the sensitive environment variable will be interpolated during Groovy evaluation, and the environment variable’s value could be made available earlier than intended, resulting in sensitive data leaking in various contexts.</p>
<p>For example, consider a sensitive environment variable passed to the <code>sh</code> step.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">    </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">EXAMPLE_CREDS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;example-credentials-id&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="cm">/* WRONG! */</span>
<span class="w">                </span><span class="n">sh</span><span class="o">(</span><span class="s2">&quot;curl -u ${EXAMPLE_CREDS_USR}:${EXAMPLE_CREDS_PSW} https://example.com/&quot;</span><span class="o">)</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Should Groovy perform the interpolation, the sensitive value will be injected directly into the arguments of the <code>sh</code> step, which among other issues, means that the literal value will be visible as an argument to the <code>sh</code> process on the agent in OS process listings. Using single-quotes instead of double-quotes when referencing these sensitive environment variables prevents this type of leaking.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">    </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">EXAMPLE_CREDS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;example-credentials-id&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="cm">/* CORRECT */</span>
<span class="w">                </span><span class="n">sh</span><span class="o">(</span><span class="s1">&#39;curl -u $EXAMPLE_CREDS_USR:$EXAMPLE_CREDS_PSW https://example.com/&#39;</span><span class="o">)</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="injection-via-interpolation">Injection via interpolation<a class="headerlink" href="#injection-via-interpolation" title="Permanent link">&para;</a></h4>
<blockquote>
<p>&#x26A0; Groovy string interpolation can inject rogue commands into command interpreters via special characters.</p>
</blockquote>
<p>Another note of caution. Using Groovy string interpolation for user-controlled variables with steps that pass their arguments to command interpreters such as the <code>sh</code>, <code>bat</code>, <code>powershell</code>, or <code>pwsh</code> steps can result in problems analogous to SQL injection. This occurs when a user-controlled variable (generally an environment variable, usually a parameter passed to the build) that contains special characters (e.g. <code>/ \ $ &amp; % ^ &gt; &lt; | ;</code>) is passed to the <code>sh</code>, <code>bat</code>, <code>powershell</code>, or <code>pwsh</code> steps using Groovy interpolation. For a simple example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">  </span><span class="n">parameters</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;STATEMENT&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;hello; ls /&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">&#39;What should I say?&#39;</span><span class="o">)</span>
<span class="w">  </span><span class="o">}</span>
<span class="w">  </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="cm">/* WRONG! */</span>
<span class="w">        </span><span class="n">sh</span><span class="o">(</span><span class="s2">&quot;echo ${STATEMENT}&quot;</span><span class="o">)</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>In this example, the argument to the <code>sh</code> step is evaluated by Groovy, and <code>STATEMENT</code> is interpolated directly into the argument as if <code>sh('echo hello; ls /')</code> has been written in the Pipeline. When this is processed on the agent, rather than echoing the value <code>hello; ls /</code>, it will echo <code>hello</code> then proceed to list the entire root directory of the agent. Any user able to control a variable interpolated by such a step would be able to make the <code>sh</code> step run arbitrary code on the agent. To avoid this problem, make sure arguments to steps such as <code>sh</code> or <code>bat</code> that reference parameters or other user-controlled environment variables use single quotes to avoid Groovy interpolation.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">  </span><span class="n">parameters</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;STATEMENT&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;hello; ls /&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">&#39;What should I say?&#39;</span><span class="o">)</span>
<span class="w">  </span><span class="o">}</span>
<span class="w">  </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="cm">/* CORRECT */</span>
<span class="w">        </span><span class="n">sh</span><span class="o">(</span><span class="s1">&#39;echo ${STATEMENT}&#39;</span><span class="o">)</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Credential mangling is another issue that can occur when credentials that contain special characters are passed to a step using Groovy interpolation. When the credential value is mangled, it is no longer valid and will no longer be masked in the console log.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">  </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">EXAMPLE_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;example-credentials-id&#39;</span><span class="o">)</span><span class="w"> </span><span class="c1">// Secret value is &#39;sec%ret&#39;</span>
<span class="w">  </span><span class="o">}</span>
<span class="w">  </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">          </span><span class="cm">/* WRONG! */</span>
<span class="w">          </span><span class="n">bat</span><span class="w"> </span><span class="s2">&quot;echo ${EXAMPLE_KEY}&quot;</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Here, the <code>bat</code> step receives <code>echo sec%ret</code> and the Windows batch shell will simply drop the <code>%</code> and print out the value <code>secret</code>. Because there is a single character difference, the value <code>secret</code> will not be masked. Though the value is not the same as the actual credential, this is still a significant exposure of sensitive information. Again, single-quotes avoids this issue.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">  </span><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">EXAMPLE_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;example-credentials-id&#39;</span><span class="o">)</span><span class="w"> </span><span class="c1">// Secret value is &#39;sec%ret&#39;</span>
<span class="w">  </span><span class="o">}</span>
<span class="w">  </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">          </span><span class="cm">/* CORRECT */</span>
<span class="w">          </span><span class="n">bat</span><span class="w"> </span><span class="s1">&#39;echo %SECRET_VALUE%&#39;</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="handling-parameters">Handling parameters<a class="headerlink" href="#handling-parameters" title="Permanent link">&para;</a></h3>
<p>Declarative Pipeline supports parameters out-of-the-box, allowing the Pipeline to accept user-specified parameters at runtime via the <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#parameters">parameters directive</a>. Configuring parameters with Scripted Pipeline is done with the <code>properties</code> step, which can be found in the Snippet Generator.</p>
<p>If you configured your pipeline to accept parameters using the <strong>Build with Parameters</strong> option, those parameters are accessible as members of the <code>params</code> variable.</p>
<p>Assuming that a String parameter named "Greeting" has been configuring in the <code>Jenkinsfile</code>, it can access that parameter via <code>${params.Greeting}</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">    </span><span class="n">parameters</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;Greeting&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;Hello&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">&#39;How should I greet the world?&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Example&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">echo</span><span class="w"> </span><span class="s2">&quot;${params.Greeting} World!&quot;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#">Toggle Scripted Pipeline</a> <em>(Advanced)</em></p>
<h3 id="handling-failure">Handling failure<a class="headerlink" href="#handling-failure" title="Permanent link">&para;</a></h3>
<p>Declarative Pipeline supports robust failure handling by default via its <a href="https://www.jenkins.io/doc/book/pipeline/syntax/#post">post section</a> which allows declaring a number of different "post conditions" such as: <code>always</code>, <code>unstable</code>, <code>success</code>, <code>failure</code>, and <code>changed</code>. The <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#syntax">Pipeline Syntax</a> section provides more detail on how to use the various post conditions.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Test&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;make check&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">post</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">always</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">junit</span><span class="w"> </span><span class="s1">&#39;**/target/*.xml&#39;</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">        </span><span class="n">failure</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">mail</span><span class="w"> </span><span class="nl">to:</span><span class="w"> </span><span class="n">team</span><span class="nd">@example.com</span><span class="o">,</span><span class="w"> </span><span class="nl">subject:</span><span class="w"> </span><span class="s1">&#39;The Pipeline failed :(&#39;</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#">Toggle Scripted Pipeline</a> <em>(Advanced)</em></p>
<blockquote>
<p>Scripted Pipeline however relies on Groovy’s built-in <code>try</code>/<code>catch</code>/<code>finally</code> semantics for handling failures during execution of the Pipeline.</p>
<p>In the <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#test">Test</a> example above, the <code>sh</code> step was modified to never return a non-zero exit code (<code>sh 'make check || true'</code>). This approach, while valid, means the following stages need to check <code>currentBuild.result</code> to know if there has been a test failure or not.</p>
<p>An alternative way of handling this, which preserves the early-exit behavior of failures in Pipeline, while still giving <code>junit</code> the chance to capture test reports, is to use a series of <code>try</code>/<code>finally</code> blocks:</p>
</blockquote>
<h3 id="using-multiple-agents">Using multiple agents<a class="headerlink" href="#using-multiple-agents" title="Permanent link">&para;</a></h3>
<p>In all the previous examples, only a single agent has been used. This means Jenkins will allocate an executor wherever one is available, regardless of how it is labeled or configured. Not only can this behavior be overridden, but Pipeline allows utilizing multiple agents in the Jenkins environment from within the <em>same</em> <code>Jenkinsfile</code>, which can helpful for more advanced use-cases such as executing builds/tests across multiple platforms.</p>
<p>In the example below, the "Build" stage will be performed on one agent and the built results will be reused on two subsequent agents, labelled "linux" and "windows" respectively, during the "Test" stage.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Declarative Pipeline)</span>
<span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">none</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Build&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">checkout</span><span class="w"> </span><span class="n">scm</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;make&#39;</span>
<span class="w">                </span><span class="n">stash</span><span class="w"> </span><span class="nl">includes:</span><span class="w"> </span><span class="s1">&#39;**/target/*.jar&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;app&#39;</span><span class="w"> </span><span class="c1">// ①</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Test on Linux&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">agent</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="c1">// ②</span>
<span class="w">                </span><span class="n">label</span><span class="w"> </span><span class="s1">&#39;linux&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">unstash</span><span class="w"> </span><span class="s1">&#39;app&#39;</span><span class="w"> </span><span class="c1">// ③</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;make check&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">            </span><span class="n">post</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">always</span><span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="n">junit</span><span class="w"> </span><span class="s1">&#39;**/target/*.xml&#39;</span>
<span class="w">                </span><span class="o">}</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Test on Windows&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">agent</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">label</span><span class="w"> </span><span class="s1">&#39;windows&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">unstash</span><span class="w"> </span><span class="s1">&#39;app&#39;</span>
<span class="w">                </span><span class="n">bat</span><span class="w"> </span><span class="s1">&#39;make check&#39;</span><span class="w"> </span><span class="c1">// ④</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">            </span><span class="n">post</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">always</span><span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="n">junit</span><span class="w"> </span><span class="s1">&#39;**/target/*.xml&#39;</span>
<span class="w">                </span><span class="o">}</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#">Toggle Scripted Pipeline</a> <em>(Advanced)</em></p>
<blockquote>
<p>① <code>stash</code> step allows capturing files matching an inclusion pattern (<code>**/target/*.jar</code>) for reuse within the <em>same</em> Pipeline. Once the Pipeline has completed its execution, stashed files are deleted from the Jenkins controller. </p>
<p>② parameter in <code>agent</code>/<code>node</code> allows for any valid Jenkins label expression. Consult the <a href="https://www.jenkins.io/doc/book/pipeline/syntax/">Pipeline Syntax</a> section for more details. </p>
<p>③  <code>unstash</code> will retrieve the named "stash" from the Jenkins controller into the Pipeline’s current workspace. </p>
<p>④  The <code>bat</code> script allows for executing batch scripts on Windows-based platforms. </p>
</blockquote>
<h3 id="optional-step-arguments">Optional step arguments<a class="headerlink" href="#optional-step-arguments" title="Permanent link">&para;</a></h3>
<p>Pipeline follows the Groovy language convention of allowing parentheses to be omitted around method arguments.</p>
<p>Many Pipeline steps also use the named-parameter syntax as a shorthand for creating a Map in Groovy, which uses the syntax <code>[key1: value1, key2: value2]</code>. Making statements like the following functionally equivalent:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">git</span><span class="w"> </span><span class="nl">url:</span><span class="w"> </span><span class="s1">&#39;git://example.com/amazing-project.git&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">branch:</span><span class="w"> </span><span class="s1">&#39;master&#39;</span>
<span class="n">git</span><span class="o">([</span><span class="nl">url:</span><span class="w"> </span><span class="s1">&#39;git://example.com/amazing-project.git&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">branch:</span><span class="w"> </span><span class="s1">&#39;master&#39;</span><span class="o">])</span>
</code></pre></div></td></tr></table></div>
<p>For convenience, when calling steps taking only one parameter (or only one mandatory parameter), the parameter name may be omitted, for example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;echo hello&#39;</span><span class="w"> </span><span class="cm">/* short form  */</span>
<span class="n">sh</span><span class="o">([</span><span class="nl">script:</span><span class="w"> </span><span class="s1">&#39;echo hello&#39;</span><span class="o">])</span><span class="w">  </span><span class="cm">/* long form */</span>
</code></pre></div></td></tr></table></div>
<h3 id="advanced-scripted-pipeline">Advanced Scripted Pipeline<a class="headerlink" href="#advanced-scripted-pipeline" title="Permanent link">&para;</a></h3>
<p>Scripted Pipeline is a domain-specific language [<a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#_footnotedef_3">3</a>] based on Groovy, most <a href="http://groovy-lang.org/semantics.html">Groovy syntax</a> can be used in Scripted Pipeline without modification.</p>
<h4 id="parallel-execution">Parallel execution<a class="headerlink" href="#parallel-execution" title="Permanent link">&para;</a></h4>
<p>The example in the <a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/#using-multiple-nodes">section above</a> runs tests across two different platforms in a linear series. In practice, if the <code>make check</code> execution takes 30 minutes to complete, the "Test" stage would now take 60 minutes to complete!</p>
<p>Fortunately, Pipeline has built-in functionality for executing portions of Scripted Pipeline in parallel, implemented in the aptly named <code>parallel</code> step.</p>
<p>Refactoring the example above to use the <code>parallel</code> step:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1">// Jenkinsfile (Scripted Pipeline)</span>
<span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Build&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="cm">/* .. snip .. */</span>
<span class="o">}</span>

<span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Test&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">parallel</span><span class="w"> </span><span class="nl">linux:</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">node</span><span class="o">(</span><span class="s1">&#39;linux&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">checkout</span><span class="w"> </span><span class="n">scm</span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">unstash</span><span class="w"> </span><span class="s1">&#39;app&#39;</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;make check&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">            </span><span class="k">finally</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">junit</span><span class="w"> </span><span class="s1">&#39;**/target/*.xml&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">},</span>
<span class="w">    </span><span class="nl">windows:</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">node</span><span class="o">(</span><span class="s1">&#39;windows&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="cm">/* .. snip .. */</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></td></tr></table></div>
<p>Instead of executing the tests on the "linux" and "windows" labelled nodes in series, they will now execute in parallel assuming the requisite capacity exists in the Jenkins environment.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/sufangmu" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.top", "search.suggest", "search.highlight", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "header.autohide"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="../../../javascripts/polyfill.min.js"></script>
      
        <script src="../../../javascripts/tex-mml-chtml.js"></script>
      
    
  </body>
</html>