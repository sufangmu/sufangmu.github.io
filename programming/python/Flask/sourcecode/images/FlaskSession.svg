<svg id="SvgjsSvg1006" width="2342.4583129882812" height="951.8125305175781" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1030" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1031" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1068" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1069" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1109" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1110" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1144" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1145" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1156" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1157" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1160" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1161" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1164" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1165" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1200" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1201" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1204" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1205" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1208" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1209" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1220" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1221" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1237" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1238" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1272" markerWidth="16" markerHeight="12" refX="10" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1273" d="M0,3 L10,6 L0,9 L0,3" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><g id="SvgjsG1008" transform="translate(343.4434422084263,27.819931575230214)"><path id="SvgjsPath1009" d="M 0 0L 432.7857142857142 0L 432.7857142857142 74.57142911638527L 0 74.57142911638527Z" stroke="none" fill="none"></path><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="宋体" text-anchor="start" font-size="13px" width="433px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="19.660714558192637" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="16" x="0"><tspan id="SvgjsTspan1013" style="text-decoration:;">def __call__():</tspan></tspan><tspan id="SvgjsTspan1014" dy="16" x="0"><tspan id="SvgjsTspan1015" style="text-decoration:;">    return self.wsgi_app(environ, start_response)</tspan></tspan></text></g></g><g id="SvgjsG1016" transform="translate(316.22915649414057,25.00360558957476)"><path id="SvgjsPath1017" d="M 0 0L 91 0L 91 23L 0 23Z" stroke="none" fill="none"></path><g id="SvgjsG1018"><text id="SvgjsText1019" font-family="宋体" text-anchor="middle" font-size="13px" width="91px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="1.875" transform="rotate(0)"><tspan id="SvgjsTspan1020" dy="16" x="45.5"><tspan id="SvgjsTspan1021" style="text-decoration:;">class Flask:</tspan></tspan></text></g></g><g id="SvgjsG1022" transform="translate(299.51487077985496,175.1532636369978)"><path id="SvgjsPath1023" d="M 0 0L 368.33333587646484 0L 368.33333587646484 22L 0 22Z" stroke="none" fill="none"></path><g id="SvgjsG1024"><text id="SvgjsText1025" font-family="宋体" text-anchor="middle" font-size="13px" width="369px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="1.375" transform="rotate(0)"><tspan id="SvgjsTspan1026" dy="16" x="184.5"><tspan id="SvgjsTspan1027" style="text-decoration:;">def wsgi_app(self, environ, start_response):</tspan></tspan></text></g></g><g id="SvgjsG1028"><path id="SvgjsPath1029" d="M494.8005850655692 91.10564586094449L494.8005850655692 133.89136041913713L494.8005850655692 133.89136041913713L494.8005850655692 176.67707497732977" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1030)"></path></g><g id="SvgjsG1032" transform="translate(380.94344220842663,187.45064039202555)"><path id="SvgjsPath1033" d="M 0 0L 228 0L 228 40.66666793823242L 0 40.66666793823242Z" stroke="none" fill="none"></path><g id="SvgjsG1034"><text id="SvgjsText1035" font-family="宋体" text-anchor="start" font-size="13px" width="228px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="2.708333969116211" transform="rotate(0)"><tspan id="SvgjsTspan1036" dy="16" x="0"><tspan id="SvgjsTspan1037" style="text-decoration:;">ctx = self.request_context(environ)</tspan></tspan><tspan id="SvgjsTspan1038" dy="16" x="0"><tspan id="SvgjsTspan1039" style="text-decoration:;fill: rgb(255, 0, 0);"># ctx = RequestContext()</tspan></tspan></text></g></g><g id="SvgjsG1040" transform="translate(790.2291564941422,348.0104222978865)"><path id="SvgjsPath1041" d="M 0 0L 242 0L 242 31L 0 31Z" stroke="none" fill="none"></path><g id="SvgjsG1042"><text id="SvgjsText1043" font-family="宋体" text-anchor="middle" font-size="13px" width="242px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="-2.125" transform="rotate(0)"><tspan id="SvgjsTspan1044" dy="16" x="121"><tspan id="SvgjsTspan1045" style="text-decoration:;">class RequestContext(self, environ)</tspan></tspan><tspan id="SvgjsTspan1046" dy="16" x="121"><tspan id="SvgjsTspan1047" style="text-decoration:;font-size: inherit; fill: rgb(244, 67, 54);">           # </tspan><tspan id="SvgjsTspan1048" style="text-decoration:;fill: rgb(255, 0, 0);font-size: inherit;">(app, environ)</tspan></tspan></text></g></g><g id="SvgjsG1049" transform="translate(895.8934495637308,413.30293803312316)"><path id="SvgjsPath1050" d="M 0 0L 234 0L 234 45L 0 45Z" stroke="none" fill="none"></path><g id="SvgjsG1051"><text id="SvgjsText1052" font-family="宋体" text-anchor="start" font-size="13px" width="234px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="-3.125" transform="rotate(0)"><tspan id="SvgjsTspan1053" dy="16" x="0"><tspan id="SvgjsTspan1054" style="text-decoration:;">request = app.request_class(environ)</tspan></tspan><tspan id="SvgjsTspan1055" dy="16" x="0"><tspan id="SvgjsTspan1056" style="text-decoration:;font-size: inherit; color: rgb(244, 67, 54);"># request = Request()         </tspan></tspan><tspan id="SvgjsTspan1057" dy="16" x="0"><tspan id="SvgjsTspan1058" style="text-decoration:;font-size: inherit;fill: rgb(76, 175, 80);"># 处理请求相关数据</tspan><tspan id="SvgjsTspan1059" style="text-decoration:;color: rgb(244, 67, 54); font-size: inherit;">           </tspan></tspan></text></g></g><g id="SvgjsG1060" transform="translate(1444.4672720772871,400.75483307685477)"><path id="SvgjsPath1061" d="M 0 0L 120.80951799665218 0L 120.80951799665218 31.160349854227775L 0 31.160349854227775Z" stroke="none" fill="none"></path><g id="SvgjsG1062"><text id="SvgjsText1063" font-family="宋体" text-anchor="middle" font-size="13px" width="121px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="5.955174927113887" transform="rotate(0)"><tspan id="SvgjsTspan1064" dy="16" x="60.5"><tspan id="SvgjsTspan1065" style="text-decoration:;">class Request</tspan></tspan></text></g></g><g id="SvgjsG1066"><path id="SvgjsPath1067" d="M1449.562504359654 416.20089721679676L1298.9196450369693 416.20089721679676L1298.9196450369693 416.20089721679676L1148.2767857142844 416.20089721679676" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1068)"></path></g><g id="SvgjsG1070" transform="translate(896.322739174941,462.772325788225)"><path id="SvgjsPath1071" d="M 0 0L 132.6666259765625 0L 132.6666259765625 20L 0 20Z" stroke="none" fill="none"></path><g id="SvgjsG1072"><text id="SvgjsText1073" font-family="宋体" text-anchor="middle" font-size="13px" width="133px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="0.375" transform="rotate(0)"><tspan id="SvgjsTspan1074" dy="16" x="66.5"><tspan id="SvgjsTspan1075" style="text-decoration:;">self.session = None</tspan></tspan></text></g></g><g id="SvgjsG1076" transform="translate(365.6577279227125,244.200892857143)"><path id="SvgjsPath1077" d="M 0 0L 99 0L 99 27L 0 27Z" stroke="none" fill="none"></path><g id="SvgjsG1078"><text id="SvgjsText1079" font-family="宋体" text-anchor="middle" font-size="13px" width="99px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="3.875" transform="rotate(0)"><tspan id="SvgjsTspan1080" dy="16" x="49.5"><tspan id="SvgjsTspan1081" style="text-decoration:;">ctx.push()</tspan></tspan></text></g></g><g id="SvgjsG1082" transform="translate(854.7786626025368,514.355673108782)"><path id="SvgjsPath1083" d="M 0 0L 490.0219224630323 0L 490.0219224630323 76.04759107317227L 0 76.04759107317227Z" stroke="none" fill="none"></path><g id="SvgjsG1084"><text id="SvgjsText1085" font-family="宋体" text-anchor="start" font-size="13px" width="491px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="4.398795536586135" transform="rotate(0)"><tspan id="SvgjsTspan1086" dy="16" x="0"><tspan id="SvgjsTspan1087" style="text-decoration:;">def push(self):</tspan></tspan><tspan id="SvgjsTspan1088" dy="16" x="0"><tspan id="SvgjsTspan1089" style="text-decoration:;">    session_interface = self.app.session_interface</tspan></tspan><tspan id="SvgjsTspan1090" dy="16" x="0"><tspan id="SvgjsTspan1091" style="text-decoration:;">   </tspan><tspan id="SvgjsTspan1092" style="text-decoration:;fill: rgb(76, 175, 80);"> # session_interface = SecureCookieSessionInterface()</tspan></tspan><tspan id="SvgjsTspan1093" dy="16" x="0"><tspan id="SvgjsTspan1094" style="text-decoration:;">    self.session = session_interface.open_session(self.app, self.request)</tspan></tspan></text></g></g><g id="SvgjsG1095" transform="translate(844.9910714285714,387.15327998569956)"><path id="SvgjsPath1096" d="M 0 0L 406 0L 406 22L 0 22Z" stroke="none" fill="none"></path><g id="SvgjsG1097"><text id="SvgjsText1098" font-family="宋体" text-anchor="middle" font-size="13px" width="406px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="1.375" transform="rotate(0)"><tspan id="SvgjsTspan1099" dy="16" x="203"><tspan id="SvgjsTspan1100" style="text-decoration:;">def __init__(self, app, environ, request=None, session=None):</tspan></tspan></text></g></g><g id="SvgjsG1101" transform="translate(1442.8958435058607,541.4151829310822)"><path id="SvgjsPath1102" d="M 0 0L 378.0952322823646 0L 378.0952322823646 21.928571428571786L 0 21.928571428571786Z" stroke="none" fill="none"></path><g id="SvgjsG1103"><text id="SvgjsText1104" font-family="宋体" text-anchor="middle" font-size="13px" width="379px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="1.339285714285893" transform="rotate(0)"><tspan id="SvgjsTspan1105" dy="16" x="189.5"><tspan id="SvgjsTspan1106" style="text-decoration:;">class SecureCookieSessionInterface(SessionInterface):</tspan></tspan></text></g></g><g id="SvgjsG1107"><path id="SvgjsPath1108" d="M1490.9910757882253 567.1056616646905L1417.8958304268972 567.1056616646905L1417.8958304268972 567.1056616646905L1344.8005850655693 567.1056616646905" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1109)"></path></g><g id="SvgjsG1111" transform="translate(1494.5100683985231,565.0240107945028)"><path id="SvgjsPath1112" d="M 0 0L 529.0951974051347 0L 529.0951974051347 130.74097516664926L 0 130.74097516664926Z" stroke="none" fill="none"></path><g id="SvgjsG1113"><text id="SvgjsText1114" font-family="宋体" text-anchor="start" font-size="13px" width="530px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="-8.254512416675368" transform="rotate(0)"><tspan id="SvgjsTspan1115" dy="16" x="0"><tspan id="SvgjsTspan1116" style="text-decoration:;">def open_session(self, app, request):</tspan></tspan><tspan id="SvgjsTspan1117" dy="16" x="0"><tspan id="SvgjsTspan1118" style="text-decoration:;">  val = request.cookies.get(app.session_cookie_name) </tspan></tspan><tspan id="SvgjsTspan1119" dy="16" x="0"><tspan id="SvgjsTspan1120" style="text-decoration:;">  </tspan><tspan id="SvgjsTspan1121" style="text-decoration:;fill: rgb(76, 175, 80);"># 第一次请求时，cookie为空，取不到session，所以直接返回</tspan></tspan><tspan id="SvgjsTspan1122" dy="16" x="0"><tspan id="SvgjsTspan1123" style="text-decoration:;">  if not val:</tspan></tspan><tspan id="SvgjsTspan1124" dy="16" x="0"><tspan id="SvgjsTspan1125" style="text-decoration:;">     return self.session_class()</tspan></tspan><tspan id="SvgjsTspan1126" dy="16" x="0"><tspan id="SvgjsTspan1127" style="text-decoration:;">  try:</tspan></tspan><tspan id="SvgjsTspan1128" dy="16" x="0"><tspan id="SvgjsTspan1129" style="text-decoration:;fill: rgb(76, 175, 80);">     # 如果下一次请求进来cookie中有session，就反序列化为字典</tspan></tspan><tspan id="SvgjsTspan1130" dy="16" x="0"><tspan id="SvgjsTspan1131" style="text-decoration:;">     data = s.loads(val, max_age=max_age)</tspan></tspan><tspan id="SvgjsTspan1132" dy="16" x="0"><tspan id="SvgjsTspan1133" style="text-decoration:;">     return self.session_class(data)</tspan></tspan></text></g></g><g id="SvgjsG1134" transform="translate(1945.4673331124436,618.8199550083707)"><path id="SvgjsPath1135" d="M 0 0L 372 0L 372 33L 0 33Z" stroke="none" fill="none"></path><g id="SvgjsG1136"><text id="SvgjsText1137" font-family="宋体" text-anchor="start" font-size="13px" width="372px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="-1.125" transform="rotate(0)"><tspan id="SvgjsTspan1138" dy="16" x="0"><tspan id="SvgjsTspan1139" style="text-decoration:;">class SecureCookieSession(CallbackDict, SessionMixin)</tspan></tspan><tspan id="SvgjsTspan1140" dy="16" x="0"><tspan id="SvgjsTspan1141" style="text-decoration:;fill: rgb(76, 175, 80);"># 继承了dict的一个特殊字典</tspan></tspan></text></g></g><g id="SvgjsG1142"><path id="SvgjsPath1143" d="M1931.3244759695876 630.5342407226557L1828.8244759695876 630.5342407226557L1828.8244759695876 630.5342407226557L1726.3244759695876 630.5342407226557" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1144)"></path></g><g id="SvgjsG1146" transform="translate(342.8618095553651,310.4866118917663)"><path id="SvgjsPath1147" d="M 0 0L 329.99999999999994 0L 329.99999999999994 74.28571428571428L 0 74.28571428571428Z" stroke="none" fill="none"></path><g id="SvgjsG1148"><text id="SvgjsText1149" font-family="宋体" text-anchor="start" font-size="13px" width="330px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="19.51785714285714" transform="rotate(0)"><tspan id="SvgjsTspan1150" dy="16" x="0"><tspan id="SvgjsTspan1151" style="text-decoration:;">def request_context(self, environ):</tspan></tspan><tspan id="SvgjsTspan1152" dy="16" x="0"><tspan id="SvgjsTspan1153" style="text-decoration:;">    return RequestContext(self, environ)</tspan></tspan></text></g></g><g id="SvgjsG1154"><path id="SvgjsPath1155" d="M620.514870779855 206.67707225254605C 734.8005850655691 249.5342151096889 661.9434422084263 339.5342151096889 620.514870779855 340.0270671645884" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1156)"></path></g><g id="SvgjsG1158"><path id="SvgjsPath1159" d="M631.4672372000558 355.7246922084263L711.4672372000557 355.7246922084263L711.4672372000557 355.7246922084263L791.4672372000557 355.7246922084263" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1160)"></path></g><g id="SvgjsG1162"><path id="SvgjsPath1163" d="M458.61009434291293 259.0580291748047C 884.3243800571986 256.2008863176618 624.3243800571987 533.343743460519 850.9910539899553 534.7723148890905" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1164)"></path></g><g id="SvgjsG1166" transform="translate(346.2291564941406,283.8199375697543)"><path id="SvgjsPath1167" d="M 0 0L 323.2653061224488 0L 323.2653061224488 25.714285714285836L 0 25.714285714285836Z" stroke="none" fill="none"></path><g id="SvgjsG1168"><text id="SvgjsText1169" font-family="宋体" text-anchor="middle" font-size="13px" width="324px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="3.232142857142918" transform="rotate(0)"><tspan id="SvgjsTspan1170" dy="16" x="162"><tspan id="SvgjsTspan1171" style="text-decoration:;">response = self.full_dispatch_request()</tspan></tspan></text></g></g><g id="SvgjsG1172" transform="translate(25.00467292630016,596.2752149550932)"><path id="SvgjsPath1173" d="M 0 0L 208.84350212252843 0L 208.84350212252843 99.48977100605885L 0 99.48977100605885Z" stroke="none" fill="none"></path><g id="SvgjsG1174"><text id="SvgjsText1175" font-family="宋体" text-anchor="start" font-size="13px" width="209px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="24.119885503029423" transform="rotate(0)"><tspan id="SvgjsTspan1176" dy="16" x="0"><tspan id="SvgjsTspan1177" style="text-decoration:;">def login():</tspan></tspan><tspan id="SvgjsTspan1178" dy="16" x="0"><tspan id="SvgjsTspan1179" style="text-decoration:;fill: rgb(76, 175, 80);">    # 去ctx中获取session</tspan></tspan><tspan id="SvgjsTspan1180" dy="16" x="0"><tspan id="SvgjsTspan1181" style="text-decoration:;">    session['user'] = 'admin'</tspan></tspan></text></g></g><g id="SvgjsG1182" transform="translate(345.8328941764203,444.29612077985496)"><path id="SvgjsPath1183" d="M 0 0L 335.7420400598057 0L 335.7420400598057 55.71428571428578L 0 55.71428571428578Z" stroke="none" fill="none"></path><g id="SvgjsG1184"><text id="SvgjsText1185" font-family="宋体" text-anchor="start" font-size="13px" width="336px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="2.2321428571428896" transform="rotate(0)"><tspan id="SvgjsTspan1186" dy="16" x="0"><tspan id="SvgjsTspan1187" style="text-decoration:;">def full_dispatch_request(self):</tspan></tspan><tspan id="SvgjsTspan1188" dy="16" x="0"><tspan id="SvgjsTspan1189" style="text-decoration:;">    rv = self.dispatch_request()</tspan></tspan><tspan id="SvgjsTspan1190" dy="16" x="0"><tspan id="SvgjsTspan1191" style="text-decoration:;">    return self.finalize_request(rv)</tspan></tspan></text></g></g><g id="SvgjsG1192" transform="translate(345.25491043159695,568.5818350655692)"><path id="SvgjsPath1193" d="M 0 0L 260 0L 260 41.42857142857142L 0 41.42857142857142Z" stroke="none" fill="none"></path><g id="SvgjsG1194"><text id="SvgjsText1195" font-family="宋体" text-anchor="start" font-size="13px" width="260px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="11.089285714285712" transform="rotate(0)"><tspan id="SvgjsTspan1196" dy="16" x="0"><tspan id="SvgjsTspan1197" style="text-decoration:;">def dispatch_request(self):</tspan></tspan></text></g></g><g id="SvgjsG1198"><path id="SvgjsPath1199" d="M335.2767682756696 630.0104064941405L286.705339704241 630.0104064941405L286.705339704241 630.0104064941405L238.1339111328124 630.0104064941405" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1200)"></path></g><g id="SvgjsG1202"><path id="SvgjsPath1203" d="M637.1815338134764 295.7246922084263C 745.752962384905 365.7246922084263 680.0386766706193 444.29612077985485 637.1815338134764 460.2825298698582" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1204)"></path></g><g id="SvgjsG1206"><path id="SvgjsPath1207" d="M571.4672480991909 472.8675493512834C 722.4196363176618 485.2485307965959 565.2767791748046 596.6771022251673 524.8373764047925 588.1056736537388" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1208)"></path></g><g id="SvgjsG1210" transform="translate(340.106709071568,701.438977922712)"><path id="SvgjsPath1211" d="M 0 0L 447.07482474190846 0L 447.07482474190846 34.285714285714334L 0 34.285714285714334Z" stroke="none" fill="none"></path><g id="SvgjsG1212"><text id="SvgjsText1213" font-family="宋体" text-anchor="start" font-size="13px" width="448px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="-0.4821428571428328" transform="rotate(0)"><tspan id="SvgjsTspan1214" dy="16" x="0"><tspan id="SvgjsTspan1215" style="text-decoration:;"> def finalize_request(self, rv, from_error_handler=False):</tspan></tspan><tspan id="SvgjsTspan1216" dy="16" x="0"><tspan id="SvgjsTspan1217" style="text-decoration:;">    response = self.process_response(response)</tspan></tspan></text></g></g><g id="SvgjsG1218"><path id="SvgjsPath1219" d="M594.3243909563337 485.7246922084263C 677.1815338134764 475.7246922084263 505.7529623849051 682.8675493512834 451.4672480991908 707.5614269023039" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1220)"></path></g><g id="SvgjsG1222" transform="translate(354.3243909563337,840.4623515849219)"><path id="SvgjsPath1223" d="M 0 0L 480.00001089913496 0L 480.00001089913496 73.3576077831026L 0 73.3576077831026Z" stroke="none" fill="none"></path><g id="SvgjsG1224"><text id="SvgjsText1225" font-family="宋体" text-anchor="start" font-size="13px" width="481px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="3.053803891551297" transform="rotate(0)"><tspan id="SvgjsTspan1226" dy="16" x="0"><tspan id="SvgjsTspan1227" style="text-decoration:;">def process_response(self, response):</tspan></tspan><tspan id="SvgjsTspan1228" dy="16" x="0"><tspan id="SvgjsTspan1229" style="text-decoration:;">    </tspan><tspan id="SvgjsTspan1230" style="text-decoration:;fill: rgb(76, 175, 80);"># session_interface = SecureCookieSessionInterface()</tspan></tspan><tspan id="SvgjsTspan1231" dy="16" x="0"><tspan id="SvgjsTspan1232" style="text-decoration:;">    self.session_interface.save_session(self, ctx.session, response)</tspan></tspan><tspan id="SvgjsTspan1233" dy="16" x="0"><tspan id="SvgjsTspan1234" style="text-decoration:;font-size: inherit;fill: rgb(76, 175, 80);">    # ctx.session 此时是一个特殊的字典，包含了视图函数中配置的session</tspan></tspan></text></g></g><g id="SvgjsG1235"><path id="SvgjsPath1236" d="M660.0386766706193 727.1532636369977C 752.4196363176618 722.391387939453 647.1815447126115 862.3913879394531 604.3243909563337 852.8675493512834" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1237)"></path></g><g id="SvgjsG1239" transform="translate(1494.8686641770964,703.8199593680247)"><path id="SvgjsPath1240" d="M 0 0L 434.69388377909763 0L 434.69388377909763 222.8571428571429L 0 222.8571428571429Z" stroke="none" fill="none"></path><g id="SvgjsG1241"><text id="SvgjsText1242" font-family="宋体" text-anchor="start" font-size="13px" width="435px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="宋体" size="13px" weight="400" font-style="" opacity="1" y="5.803571428571445" transform="rotate(0)"><tspan id="SvgjsTspan1243" dy="16" x="0"><tspan id="SvgjsTspan1244" style="text-decoration:;">def save_session(self, app, session, response):</tspan></tspan><tspan id="SvgjsTspan1245" dy="16" x="0"><tspan id="SvgjsTspan1246" style="text-decoration:;">   </tspan><tspan id="SvgjsTspan1247" style="text-decoration:;fill: rgb(76, 175, 80);"> # 把session转换为字典</tspan></tspan><tspan id="SvgjsTspan1248" dy="16" x="0"><tspan id="SvgjsTspan1249" style="text-decoration:;">    val = self.get_signing_serializer(app).dumps(dict(session))</tspan></tspan><tspan id="SvgjsTspan1250" dy="16" x="0"><tspan id="SvgjsTspan1251" style="text-decoration:;">        response.set_cookie(</tspan></tspan><tspan id="SvgjsTspan1252" dy="16" x="0"><tspan id="SvgjsTspan1253" style="text-decoration:;">            app.session_cookie_name,</tspan></tspan><tspan id="SvgjsTspan1254" dy="16" x="0"><tspan id="SvgjsTspan1255" style="text-decoration:;">            val,</tspan></tspan><tspan id="SvgjsTspan1256" dy="16" x="0"><tspan id="SvgjsTspan1257" style="text-decoration:;">            expires=expires,</tspan></tspan><tspan id="SvgjsTspan1258" dy="16" x="0"><tspan id="SvgjsTspan1259" style="text-decoration:;">            httponly=httponly,</tspan></tspan><tspan id="SvgjsTspan1260" dy="16" x="0"><tspan id="SvgjsTspan1261" style="text-decoration:;">            domain=domain,</tspan></tspan><tspan id="SvgjsTspan1262" dy="16" x="0"><tspan id="SvgjsTspan1263" style="text-decoration:;">            path=path,</tspan></tspan><tspan id="SvgjsTspan1264" dy="16" x="0"><tspan id="SvgjsTspan1265" style="text-decoration:;">            secure=secure,</tspan></tspan><tspan id="SvgjsTspan1266" dy="16" x="0"><tspan id="SvgjsTspan1267" style="text-decoration:;">            samesite=samesite,</tspan></tspan><tspan id="SvgjsTspan1268" dy="16" x="0"><tspan id="SvgjsTspan1269" style="text-decoration:;">        )</tspan></tspan></text></g></g><g id="SvgjsG1270"><path id="SvgjsPath1271" d="M816.2291564941405 885.2485307965958C 1082.8958347865514 819.5342450823101 1216.2291739327566 786.6771022251672 1482.8958522251673 720.9628165108816" stroke="#323232" stroke-width="1" fill="none" marker-end="url(#SvgjsMarker1272)"></path></g></svg>